/*! This is uglify test - 2016-01-25 */!function(a,b,c){b.control.set({name:"buyListUc",par:["type"],fn:function(c){function d(){b.model.get("#head","headSimple","head",function(a){a.reflash(),a.show()})}function e(){b.model.get("#foot","footSimple","foot",function(a){a.show()})}function f(){b.model.get("#main","navSimple","nav",function(a){a.show(),a.reflash()}),b.model.get("#main","userCenterTemSimple","userCenterTem",function(c){c.reflash(),c.show(),b.model.get("#UC","dealListUcForm","dealList",function(c){c.set({list:i,type:0}),c.reflash(),c.show(),c.target.find("#cancel").unbind("click").bind("click",function(){b.api.run("deal_cancel",{tk:h,id:a(this).attr("pid")},function(a){b.pop.on("alert",{text:"取消成功"}),window.location.reload()},function(a){b.pop.on("alert",{text:JSON.stringify(a)})})}),c.target.find("#pay").unbind("click").bind("click",function(){var c=this;a(".payPop #place").val(""),a(".payPop #name").val(""),a(".payPop #phone").val(""),a(".payPop").show(),a(".payPop #surePay").unbind("click").bind("click",function(){return a(".payPop #name").val()?a(".payPop #phone").val()?a(".payPop #place").val()?void b.api.run("deal_pay",{tk:h,id:a(c).attr("pid"),dealName:a(".payPop #name").val(),dealPhone:a(".payPop #phone").val(),dealPlace:a(".payPop #place").val()},function(a){b.pop.on("alert",{text:"支付成功"}),window.location.reload()},function(c){b.pop.on("alert",{text:JSON.stringify(c)}),a(".payPop #sureCancel").click()}):(b.pop.on("alert",{text:"请输入送货地址"}),!1):(b.pop.on("alert",{text:"请输入联系人手机"}),!1):(b.pop.on("alert",{text:"请输入联系人姓名"}),!1)}),a(".payPop #sureCancel").unbind("click").bind("click",function(){a(".payPop #place").val(""),a(".payPop #name").val(""),a(".payPop #phone").val(""),a(".payPop").hide()})}),c.target.find("#check").unbind("click").bind("click",function(){b.hash("confirmUc/"+a(this).attr("pid"))}),c.target.find("#back").unbind("click").bind("click",function(){b.api.run("deal_back",{tk:h,id:a(this).attr("pid")},function(a){b.pop.on("alert",{text:"申请成功"}),window.location.reload()},function(a){b.pop.on("alert",{text:JSON.stringify(a)})})}),c.target.find("#common").unbind("click").bind("click",function(){b.hash("comAddUc/"+a(this).attr("pid"))})}),a("#UC").append('<div class="payPop"><div class="payLeft">送货地址：</div><div class="payRight"><input id="place"/></div><div class="clear"></div><div class="payLeft">联系人姓名：</div><div class="payRight"><input id="name"/></div><div class="clear"></div><div class="payLeft">联系手机：</div><div class="payRight"><input id="phone"/></div><div class="clear"></div><div class="popButton" id="surePay">确认支付</div><div class="popButton" id="sureCancel">取消</div><div class="clear"></div></div>'),a(".payPop").css({position:"fixed",width:"40%",top:"158px",left:"30%","background-color":"#fff","z-index":"9",border:"1px solid #C7C7C7","border-radius":"10px","padding-top":"20px","padding-bottom":"20px",display:"none"}),a(".payLeft").css({"float":"left","text-indent":"20px","line-height":"50px",width:"120px"}),a(".payRight").css({"float":"left"}),a(".payRight input").css({border:"1px solid #CEC7C7",height:"30px",width:"600px","margin-top":"10px"}),a(".popButton").css({width:"125px",height:"38px","background-color":"#efc94c",color:"#fff","border-radius":"5px",behavior:"url(include/PIE.htc)","float":"right","margin-right":"20px","margin-top":"20px","text-align":"center","line-height":"38px","font-size":"18px",cursor:"pointer"})})}function g(g){h=g;var j=0,k=function(){j++,1===j&&(d(),e(),f())};b.api.run("deal_get",{tk:h},function(b){"0"===c.type?i=b:"1"===c.type&&(i=_.groupBy(b,"state")[0]),"2"===c.type&&(i=[],a.each(b,function(a,b){(1===b.state||2===b.state||3===b.state||4===b.state||6===b.state)&&i.push(b)})),"3"===c.type&&(i=_.groupBy(b,"state")[5]),k()},function(a){b.pop.on("alert",{text:JSON.stringify(a)})})}var h="",i=[];b.api.tk(g)}})}($,app,config);