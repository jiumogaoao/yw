/*! This is uglify test - 2015-11-08 */!function(a,b,c){b.control.set({name:"search",par:["object","type","state","order"],fn:function(c){function d(){b.model.get("#head","headSimple","head",function(a){a.set({object:i,type:0}),a.reflash(),a.change(c.object),a.show()})}function e(){b.model.get("#foot","footPromo","footPromo",function(a){a.show()}),b.model.get("#foot","footSimple","foot",function(a){a.show()})}function f(){b.model.get("#main","seguesOne","segues",function(d){d.show(),d["goto"]("pageTwo",function(e,f){function g(b){a("img").load(function(){b.reflash()}),h++,2===h&&f()}e.clean();var h=0;b.model.get(e,"searchList","searchList",function(a){a.set({typeList:j,stateList:[{id:"1",name:"预约中"},{id:"2",name:"进行中"},{id:"3",name:"已结束"}],orderList:[{id:"1",name:"时间"},{id:"2",name:"人气"},{id:"3",name:"金额"}]}),a.setResult({type:c.type,state:c.state,order:c.order}),a.reflash(),a.callback=function(a){b.hash("search/"+c.object+"/"+a.type+"/"+a.state+"/"+a.order)},a.show(),g(d)}),b.model.get(e,"productList","productList",function(b){function e(a){"0"!==c.state?("1"===c.state&&a.orderTime<=f&&a.stratTime>=f&&h.push(a),"2"===c.state&&a.stratTime<=f&&a.payedCount>=a.passNumber&&a.payedCount<a.copy&&h.push(a),"3"===c.state&&(a.stratTime<=f&&a.payedCount<a.passNumber||a.stratTime<=f&&a.payedCount===a.copy)&&h.push(a)):h.push(a)}var f=(new Date).getTime(),h=[];a.each(k,function(a,b){b.object===c.object&&("0"!==c.type?c.type===b.type&&e(b):e(b))}),"0"!==c.order&&("1"===c.order&&(h=_.sortBy(h,function(a){return-a.stratTime})),"2"===c.order&&(h=_.sortBy(h,function(a){return-a.payedMember})),"3"===c.order&&(h=_.sortBy(h,function(a){return-(a.copy*a.price)}))),b.set({list:h,type:j}),b.reflash(),b.show(),g(d)})},{w:"100%"})})}function g(a){h=a;var c=0,g=function(){c++,3===c&&(d(),e(),f())};b.api.run("obj_get",{tk:h},function(a){i=_.indexBy(a,"id"),g()},function(a){alert(a)}),b.api.run("type_get",{tk:h},function(a){j=_.indexBy(a,"id"),g()},function(a){alert(a)}),b.api.run("product_get",{tk:h},function(a){k=a,g()},function(a){alert(a)})}var h="",i=[],j=[],k=[];b.api.tk(g)}})}($,app,config);